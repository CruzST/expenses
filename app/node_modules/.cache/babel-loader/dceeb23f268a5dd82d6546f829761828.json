{"ast":null,"code":"import axios from \"axios\";\nimport { LOGIN, LOGOUT } from \"../../Components/Constants/index\";\nimport authenticate from \"../../Utils/authenicate\";\nexport const login = (payload, config) => dispatch => {\n  axios.post(\"/api/auth/signin\", payload, config).then(res => {\n    if (localStorage.getItem(ACCESS_TOKEN)) {\n      localStorage.removeItem(ACCESS_TOKEN);\n    }\n\n    let accessToken = res.data.accessToken;\n    localStorage.setItem(ACCESS_TOKEN, accessToken);\n  }).then(res => {\n    let userId = authenticate.getUserId();\n    let isAdminBool = authenticate.isAdmin(userId);\n    dispatch({\n      type: LOGIN,\n      payload: {\n        isLoggedIn: true,\n        userId: userId,\n        //number\n        isAdmin: isAdminBool //\n\n      }\n    });\n  }).catch(err => {\n    console.log(\"ERROR POSTING TO LOGIN\");\n    console.log(err);\n  });\n};\nexport const logout = () => dispatch => {};","map":{"version":3,"sources":["C:\\Users\\Steve\\Documents\\OSU\\Side Projects\\Expenses\\expenses\\app\\src\\Redux\\Actions\\authorizeActions.js"],"names":["axios","LOGIN","LOGOUT","authenticate","login","payload","config","dispatch","post","then","res","localStorage","getItem","ACCESS_TOKEN","removeItem","accessToken","data","setItem","userId","getUserId","isAdminBool","isAdmin","type","isLoggedIn","catch","err","console","log","logout"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,EAAgBC,MAAhB,QAA8B,kCAA9B;AACA,OAAOC,YAAP,MAAyB,yBAAzB;AAEA,OAAO,MAAMC,KAAK,GAAG,CAACC,OAAD,EAAUC,MAAV,KAAqBC,QAAQ,IAAI;AACpDP,EAAAA,KAAK,CACFQ,IADH,qBAC4BH,OAD5B,EACqCC,MADrC,EAEGG,IAFH,CAEQC,GAAG,IAAI;AACX,QAAIC,YAAY,CAACC,OAAb,CAAqBC,YAArB,CAAJ,EAAwC;AACtCF,MAAAA,YAAY,CAACG,UAAb,CAAwBD,YAAxB;AACD;;AACD,QAAIE,WAAW,GAAGL,GAAG,CAACM,IAAJ,CAASD,WAA3B;AACAJ,IAAAA,YAAY,CAACM,OAAb,CAAqBJ,YAArB,EAAmCE,WAAnC;AACD,GARH,EASGN,IATH,CASQC,GAAG,IAAI;AACX,QAAIQ,MAAM,GAAGf,YAAY,CAACgB,SAAb,EAAb;AACA,QAAIC,WAAW,GAAGjB,YAAY,CAACkB,OAAb,CAAqBH,MAArB,CAAlB;AACAX,IAAAA,QAAQ,CAAC;AACPe,MAAAA,IAAI,EAAErB,KADC;AAEPI,MAAAA,OAAO,EAAE;AACPkB,QAAAA,UAAU,EAAE,IADL;AAEPL,QAAAA,MAAM,EAAEA,MAFD;AAES;AAChBG,QAAAA,OAAO,EAAED,WAHF,CAGc;;AAHd;AAFF,KAAD,CAAR;AAQD,GApBH,EAqBGI,KArBH,CAqBSC,GAAG,IAAI;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,GAxBH;AAyBD,CA1BM;AA4BP,OAAO,MAAMG,MAAM,GAAG,MAAMrB,QAAQ,IAAI,CAAE,CAAnC","sourcesContent":["import axios from \"axios\";\r\nimport { LOGIN, LOGOUT } from \"../../Components/Constants/index\";\r\nimport authenticate from \"../../Utils/authenicate\";\r\n\r\nexport const login = (payload, config) => dispatch => {\r\n  axios\r\n    .post(`/api/auth/signin`, payload, config)\r\n    .then(res => {\r\n      if (localStorage.getItem(ACCESS_TOKEN)) {\r\n        localStorage.removeItem(ACCESS_TOKEN);\r\n      }\r\n      let accessToken = res.data.accessToken;\r\n      localStorage.setItem(ACCESS_TOKEN, accessToken);\r\n    })\r\n    .then(res => {\r\n      let userId = authenticate.getUserId();\r\n      let isAdminBool = authenticate.isAdmin(userId);\r\n      dispatch({\r\n        type: LOGIN,\r\n        payload: {\r\n          isLoggedIn: true,\r\n          userId: userId, //number\r\n          isAdmin: isAdminBool //\r\n        }\r\n      });\r\n    })\r\n    .catch(err => {\r\n      console.log(\"ERROR POSTING TO LOGIN\");\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const logout = () => dispatch => {};\r\n"]},"metadata":{},"sourceType":"module"}