{"ast":null,"code":"import axios from \"axios\";\nimport { LOGIN, LOGOUT } from \"../../Components/Constants/index\";\nimport authenticate from \"../../Utils/authenicate\";\nimport { ACCESS_TOKEN } from \"../../Components/Constants/index\";\nimport { removeState, saveState } from \"../../Utils/localstorage\";\nexport const login = (payload, config) => dispatch => {\n  axios.post(\"/api/auth/signin\", payload, config).then(res => {\n    if (localStorage.getItem(ACCESS_TOKEN)) {\n      localStorage.removeItem(ACCESS_TOKEN);\n    }\n\n    let accessToken = res.data.accessToken;\n    localStorage.setItem(ACCESS_TOKEN, accessToken);\n  }).then(res => {\n    let user = authenticate.getUser();\n    dispatch({\n      type: LOGIN,\n      payload: {\n        id: user.userId,\n        name: user.userName,\n        isAdmin: user.userAdmin\n      }\n    });\n  }).catch(err => {\n    console.log(\"ERROR POSTING TO LOGIN\");\n    console.log(err);\n  });\n};\nexport const logout = () => dispatch => {\n  console.log(\"logout action called\");\n  authenticate.removeToken();\n  removeState();\n  dispatch({\n    type: LOGOUT\n  });\n};","map":{"version":3,"sources":["C:\\Users\\Steve\\Documents\\OSU\\Side Projects\\Expenses\\expenses\\app\\src\\Redux\\Actions\\authorizeActions.js"],"names":["axios","LOGIN","LOGOUT","authenticate","ACCESS_TOKEN","removeState","saveState","login","payload","config","dispatch","post","then","res","localStorage","getItem","removeItem","accessToken","data","setItem","user","getUser","type","id","userId","name","userName","isAdmin","userAdmin","catch","err","console","log","logout","removeToken"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,EAAgBC,MAAhB,QAA8B,kCAA9B;AACA,OAAOC,YAAP,MAAyB,yBAAzB;AACA,SAASC,YAAT,QAA6B,kCAA7B;AACA,SAASC,WAAT,EAAsBC,SAAtB,QAAuC,0BAAvC;AAEA,OAAO,MAAMC,KAAK,GAAG,CAACC,OAAD,EAAUC,MAAV,KAAqBC,QAAQ,IAAI;AACpDV,EAAAA,KAAK,CACFW,IADH,qBAC4BH,OAD5B,EACqCC,MADrC,EAEGG,IAFH,CAEQC,GAAG,IAAI;AACX,QAAIC,YAAY,CAACC,OAAb,CAAqBX,YAArB,CAAJ,EAAwC;AACtCU,MAAAA,YAAY,CAACE,UAAb,CAAwBZ,YAAxB;AACD;;AACD,QAAIa,WAAW,GAAGJ,GAAG,CAACK,IAAJ,CAASD,WAA3B;AACAH,IAAAA,YAAY,CAACK,OAAb,CAAqBf,YAArB,EAAmCa,WAAnC;AACD,GARH,EASGL,IATH,CASQC,GAAG,IAAI;AACX,QAAIO,IAAI,GAAGjB,YAAY,CAACkB,OAAb,EAAX;AAEAX,IAAAA,QAAQ,CAAC;AACPY,MAAAA,IAAI,EAAErB,KADC;AAEPO,MAAAA,OAAO,EAAE;AACPe,QAAAA,EAAE,EAAEH,IAAI,CAACI,MADF;AAEPC,QAAAA,IAAI,EAAEL,IAAI,CAACM,QAFJ;AAGPC,QAAAA,OAAO,EAAEP,IAAI,CAACQ;AAHP;AAFF,KAAD,CAAR;AAQD,GApBH,EAqBGC,KArBH,CAqBSC,GAAG,IAAI;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,GAxBH;AAyBD,CA1BM;AA4BP,OAAO,MAAMG,MAAM,GAAG,MAAMvB,QAAQ,IAAI;AACtCqB,EAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AACA7B,EAAAA,YAAY,CAAC+B,WAAb;AACA7B,EAAAA,WAAW;AACXK,EAAAA,QAAQ,CAAC;AACPY,IAAAA,IAAI,EAAEpB;AADC,GAAD,CAAR;AAGD,CAPM","sourcesContent":["import axios from \"axios\";\r\nimport { LOGIN, LOGOUT } from \"../../Components/Constants/index\";\r\nimport authenticate from \"../../Utils/authenicate\";\r\nimport { ACCESS_TOKEN } from \"../../Components/Constants/index\";\r\nimport { removeState, saveState } from \"../../Utils/localstorage\";\r\n\r\nexport const login = (payload, config) => dispatch => {\r\n  axios\r\n    .post(`/api/auth/signin`, payload, config)\r\n    .then(res => {\r\n      if (localStorage.getItem(ACCESS_TOKEN)) {\r\n        localStorage.removeItem(ACCESS_TOKEN);\r\n      }\r\n      let accessToken = res.data.accessToken;\r\n      localStorage.setItem(ACCESS_TOKEN, accessToken);\r\n    })\r\n    .then(res => {\r\n      let user = authenticate.getUser();\r\n\r\n      dispatch({\r\n        type: LOGIN,\r\n        payload: {\r\n          id: user.userId,\r\n          name: user.userName,\r\n          isAdmin: user.userAdmin\r\n        }\r\n      });\r\n    })\r\n    .catch(err => {\r\n      console.log(\"ERROR POSTING TO LOGIN\");\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const logout = () => dispatch => {\r\n  console.log(\"logout action called\");\r\n  authenticate.removeToken();\r\n  removeState();\r\n  dispatch({\r\n    type: LOGOUT\r\n  });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}